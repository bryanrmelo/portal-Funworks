<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Portal - Recuperar Senha</title>
	<link rel="icon" href="../resources/imagens/fun-icon.png" />
	<link rel="stylesheet" href="../resources/css/homeStyle.css" />
	<link rel="stylesheet" href="../resources/css/FacesMessageStyle.css" />
	<link rel="stylesheet"
		href="../resources/css/recuperarSenhaLogadoStyle.css" />
	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
		crossorigin="anonymous" />
	<link href="http://fonts.googleapis.com/css?family=Roboto"
		rel="stylesheet" type="text/css" />
	<style>
body {
	background-color: #e1e1e1;
	font-family: 'Roboto', sans-serif;
}

.dropdown-toggle::after {
	display: none;
}
</style>
</h:head>
<h:body>
	<div class="wrapper">

		<!-- Navbar -->
		<nav class="navbar navbar-light bg-danger">
			<div class="container-fluid">
				<a href="../secure/home.xhtml">
					<img class="navbar-brand"
						src="../resources/imagens/funworks-logo.png" alt="Logo Funworks"
						width="240px" />
				</a>
				<h3 class="nav-item text-white text-center">Portal da
					Transparência</h3>
				<p class="nav-item text-white align-text-top">
					<i class="fas fa-user" style="padding-right: 5px;"></i>

					<h:outputText value="Olá, #{alterarSenhaLogado.primeiroNome()}" />
				</p>
				<ul class="m-0">
					<li class="nav-item dropdown" style="list-style-type: none;">
						<p class="dropdown-toggle text-white align-text-top"
							id="navbarDropdown" role="button" data-bs-toggle="dropdown"
							aria-expanded="false">
							Configurações
							<i class="fas fa-cog"></i>
						</p>
						<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
							<li>
								<a class="dropdown-item" href="../secure/home.xhtml">
									Página inicial
									<i class="fas fa-home"></i>
								</a>
							</li>
							<li>
								<a class="dropdown-item"
									href="../secure/recuperarSenhaLogado.xhtml">
									Alterar senha
									<i class="fas fa-key"></i>
								</a>
							</li>
							<li>
								<h:form>
									<p:commandLink styleClass="dropdown-item"
										action="#{login.logout()}"> Sair <i
											class="fas fa-sign-out-alt text-end"></i>
									</p:commandLink>
								</h:form>
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>

		<!-- Navbar vertical -->
		<div class="d-flex bd-highlight align-items-stretch barra-cima">
			<div class="p-2 flex-fill bd-highlight sidebar-size">
				<div class="sticky-top vertical-nav bg-white" id="sidebar"
					style="border: 2px solid black;">
					<ul class="nav flex-column bg-white mb-0">
						<li class="nav-item">
							<a href="../secure/sobre.xhtml" class="nav-link text-dark">
								<b>A Funworks</b>
							</a>
						</li>
						<li class="nav-item">
							<a href="#" class="nav-link text-dark">
								<b>Minhas Mensalidades</b>
								
							</a>
						</li>
						<li class="nav-item dropdown">
							<p class="p1 dropdown-toggle nav-link text-dark" id="navbarDropdown"
								role="button" data-bs-toggle="dropdown" aria-expanded="false">
								<b>Meu Cadastro</b>
								<i class="fas fa-angle-right float-right" />
							</p>
							<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
								<li>
									<a class="dropdown-item"
										href="../secure/editarPerfil.xhtml"> Editar perfil
									</a>
								</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>

			<!-- Conteúdo -->
			<div class="p-4 flex-fill" style="border-left: 2px solid black;">
				<div class="p-4" style="border: 2px solid black;">
					<div class="container-fluid"
						style="background-color: #dc3545; border: 2px solid black;">
						<div>
							<h2 class="text-white m-0 p-3">
								<h:outputText
									value="Alterar Senha > #{alterarSenhaLogado.primeiroNome()} #{alterarSenhaLogado.ultimoNome()}" />
							</h2>
						</div>
					</div>

					<!-- Painel de avisos -->
					<div class="container">
						<div class="senha-requisitos">
							<ul class="m-0">
								<li class="p-0 m-0">Sua senha não pode ser muito parecida
									com o resto das suas informações pessoais.</li>
								<li class="p-0 m-0">Sua senha precisa conter ao menos 8
									caracteres.</li>
								<li class="p-0 m-0">Sua senha não pode ser uma senha
									comumente utilizada.</li>
								<li class="p-0 m-0">Sua senha não pode ser inteiramente
									númerica, com letras maiúsculas ou conter caracteres especiais.</li>
							</ul>
						</div>

						<!-- Form de alteração -->
						<h:form>
							<div class="mb-3 wrapper-input">
								<div class="usuario form-group" style="margin-top: 30px;">
									<label for="senhaAtual" class="form-label label-stretch">
										<b>Senha Atual: </b>
									</label>
									<p:inputText value="#{alterarSenhaLogado.senhaAtual}"
										styleClass="input-stretch" required="true"
										requiredMessage="É necessário inserir a senha atual!"
										type="password" autocomplete="off" name="senhaAtual" />
								</div>
								<div class="usuario form-group">
									<label for="novaSenha" class="form-label label-stretch">
										<b>Nova Senha: </b>
									</label>
									<p:inputText value="#{alterarSenhaLogado.novaSenha}"
										styleClass="input-stretch" required="true"
										requiredMessage="É necessário uma senha nova!" type="password"
										autocomplete="off" name="novaSenha" match="confirmarSenha" />
								</div>
								<div class="usuario form-group">
									<label for="confirmarSenha" class="form-label label-stretch">
										<b>Confirmar Senha: </b>
									</label>
									<p:inputText value="#{alterarSenhaLogado.confirmarSenha}"
										required="true" styleClass="input-stretch"
										requiredMessage="É necessário confirmar a senha nova!"
										type="password" autocomplete="off" name="confirmarSenha" />
								</div>
							</div>
							<div class="d-flex justify-content-center lista-control">
								<h:commandButton
									styleClass="botoes justify-content-center text-white m-2"
									type="submit" value="Alterar"
									action="#{alterarSenhaLogado.alterar()}" />
							</div>
						</h:form>

						<!-- Form para button de voltar -->
						<h:form>
							<div class="d-flex justify-content-center lista-control">
								<h:commandButton
									styleClass="botoes justify-content-center text-white m-2"
									type="submit" value="Voltar"
									action="#{alterarSenhaLogado.voltar()}" />
							</div>
						</h:form>

						<p:messages id="messages" showDetail="false" autoUpdate="true"
							closable="true" />

					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="https://kit.fontawesome.com/46fef06780.js"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>
</h:body>
</html>
